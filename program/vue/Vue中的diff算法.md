diff算法是虚拟DOM技术的必然产物，而虚拟DOM是vue由1向2升级时的必要产物。

绝非Vue专用，涉及到虚拟DOM的一般都会用到。

Vue中核心函数：updateChildren()



一个组件调用一次$mount 就会创建一个Watcher实例。

组件中可能存在很多个key，不知道应该如何更新，也不能全量更新，为了精准定位到变化的节点，将新老Vnode做比对，找不同，然后进行更新。



#### what:

定义了对比的具体规则

#### why必要性：

- diff算法是虚拟DOM技术的必然产物，而虚拟DOM是vue由1向2升级时的必要产物。
- vue2中watcher粒度降低，为了精确定位到更新的节点

#### how策略：

- 深度优先

- - 先看两者是否都有孩子，如果有孩子，先去比孩子(递归)

- 同层比较

- - 一方有孩子 (批量删除，批量创建)
  - 两者都没有 - 文本更新



#### 双指针双向移动：

- 头尾之间比较
- 浮标移动，一方重合说明比对结束。另一方所剩下的就是要更新的部分。