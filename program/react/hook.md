[TOC]



## 什么是Hook

钩子(hook)是一个通用概念，在git中有，在webpack中也有，就是一些具有既定生命周期的框架工具，在生命周期的各个阶段预留给用户执行一些特定操作的口子。本质就是一个方法。



## `useEffect`

- 数据获取
- 设置订阅
- 修改DOM

可以写多个，接受两个参数，第一个参数是副作用函数，第二个参数是依赖项数组，当依赖数组中的值发生变化，副作用函数会执行，如果依赖数组是空数组，则只会在组件首次渲染时执行。副作用函数可以返回一个方法，用来清除effect创建的订阅或者计时器等资源，这个清除函数会在组件卸载前执行。



## `useMemo`

把“创建”函数和依赖项数组作为参数传入`useMemo`，它仅会在某个依赖项改变时才重新计算memoized值。这种优化有助于避免在每次渲染时都进行高开销的计算。



## `useCallback`

把内联回调函数及依赖数组作为参数传入`useCallback`，它将返回该回调函数的memoized版本，该回调函数仅在某个依赖项改变的时候才会更新。当你把回调函数传递给经过优化的并使用引用相等性去避免非必要渲染的子组件时，它非常有用。



## 自定义Hook

可以实现状态和逻辑公用。



## Hook的使用规则

- 只能在函数最外层调用，不能嵌套在条件或循环或子函数中调用。
- 只能在函数组件中和自定义hook中调用。